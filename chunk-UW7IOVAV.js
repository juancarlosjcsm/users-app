import{a as I,c as D,d as s,f as k,g as G,i as w,j as M,k as R,l as A,n as L}from"./chunk-UUQZUILP.js";import{B as _,D as n,I as x,M as E,Q as m,V as h,Xa as F,Y as t,Z as e,Za as N,_ as l,b,da as y,ea as S,f,h as v,ha as g,n as u,na as i,oa as d,qa as C,wa as U}from"./chunk-W4VJ34RJ.js";import"./chunk-2NFLSA4Y.js";var V=()=>["/users"];function P(o,r){if(o&1&&(t(0,"div",3)(1,"div",22),l(2,"img",23),t(3,"h3",24),i(4),e(),t(5,"p",25),i(6),e(),t(7,"button",26),l(8,"i",27),i(9," Editar "),e()(),t(10,"div",28)(11,"h3"),i(12,"Nombre"),e(),t(13,"p"),i(14),e(),t(15,"h3"),i(16,"Apellido"),e(),t(17,"p"),i(18),e(),t(19,"h3"),i(20,"Email"),e(),t(21,"p"),i(22),e()()()),o&2){let a=S();n(2),g("alt",a.user.email),m("src",a.user.avatar,_),n(2),C(" ",a.user.first_name," ",a.user.last_name," "),n(2),d(a.user.email),n(8),d(a.user.first_name),n(4),d(a.user.last_name),n(4),d(a.user.email)}}var c=class o{user;userForm;_userId;_activatedRoute=u(F);_userService=u(I);_fb=u(A);constructor(){this.userForm=this._fb.group({first_name:["",s.required],last_name:["",s.required],email:["",[s.required,s.email]]})}ngOnInit(){this._activatedRoute.params.subscribe(r=>{this._userId=r.id,this.getUser()})}getUser(){this._userService.getUser(this._userId).subscribe(r=>{this.user=r,r&&this.userForm.patchValue({first_name:r.first_name,last_name:r.last_name,email:r.email,avatar:r.avatar})})}updateUser(){this._userService.updateUser(this._userId,this.userForm.value).pipe(v(()=>{this.getUser()}),f(r=>(console.error("Error al actualizar el usuario:",r),b))).subscribe()}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=x({type:o,selectors:[["app-user-detail"]],decls:31,vars:5,consts:[[1,"container","mt-4"],[1,"btn","btn-primary",3,"routerLink"],[1,"bi","bi-arrow-bar-left"],[1,"row","rounded","bg-light","mt-2","p-4"],["id","modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3"],["for","first_name",1,"col-form-label"],["type","text","id","first_name","formControlName","first_name","placeholder","Nombre",1,"form-control"],["for","last_name",1,"col-form-label"],["type","text","id","last_name","formControlName","last_name","placeholder","Apellido",1,"form-control"],["for","email",1,"col-form-label"],["type","email","id","email","formControlName","email","placeholder","Email",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click","disabled"],[1,"card","rounded","shadow-sm","border-0","p-4","col-md-4","d-grid","justify-content-center"],[1,"rounded","w-100",3,"src","alt"],[1,"d-block","d-xl-flex","align-items-left","w-100"],[1,"text-muted","d-flex","justify-content-center"],["data-bs-toggle","modal","data-bs-target","#modal",1,"btn","btn-primary"],[1,"bi","bi-pencil"],[1,"col-md-8","ps-4"]],template:function(a,p){a&1&&(t(0,"div",0)(1,"button",1),l(2,"i",2),i(3,"Volver"),e(),E(4,P,23,8,"div",3),e(),t(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),i(10,"Editar Usuario"),e(),l(11,"button",9),e(),t(12,"div",10)(13,"form",11)(14,"div",12)(15,"label",13),i(16,"Nombre:"),e(),l(17,"input",14),e(),t(18,"div",12)(19,"label",15),i(20,"Apellido:"),e(),l(21,"input",16),e(),t(22,"div",12)(23,"label",17),i(24,"Email:"),e(),l(25,"input",18),e()()(),t(26,"div",19)(27,"button",20),i(28,"Cancelar"),e(),t(29,"button",21),y("click",function(){return p.updateUser()}),i(30,"Guardar"),e()()()()()),a&2&&(n(),m("routerLink",U(4,V)),n(3),h(p.user?4:-1),n(9),m("formGroup",p.userForm),n(16),m("disabled",!p.userForm.valid))},dependencies:[L,w,D,k,G,M,R,N],encapsulation:2})};export{c as default};
